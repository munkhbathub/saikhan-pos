<!DOCTYPE html>
<html lang="mn">
<meta charset="UTF-8">
<title>Admin</title>
<body>
<h2>ADMIN</h2>

<h3>â• Menu Ğ½ÑĞ¼ÑÑ…</h3>
<input id="n" placeholder="ĞÑÑ€">
<input id="p" type="number" placeholder="Ò®Ğ½Ñ">
<button onclick="add()">ĞÑĞ¼ÑÑ…</button>

<h3>ğŸ“‹ Menu</h3>
<div id="list"></div>

<h3>ğŸ“Š ĞÑĞ³Ñ‚Ğ³ÑĞ»</h3>
<button onclick="loadSet()">Ğ¨Ğ¸Ğ½ÑÑ‡Ğ»ÑÑ…</button>
<pre id="set"></pre>

<script>
async function load(){
  const m=await fetch("/api/menu").then(r=>r.json());
  list.innerHTML=m.map(x=>`${x.name} - ${x.price}`).join("<br>");
}
async function add(){
  await fetch("/api/menu",{method:"POST",headers:{'Content-Type':'application/json'},
  body:JSON.stringify({name:n.value,cat:"Ğ¥Ğ¾Ğ¾Ğ»",price:+p.value})});
  load();
}
async function loadSet(){
  const s=await fetch("/api/settlements").then(r=>r.json());
  set.textContent=JSON.stringify(s,null,2);
}
load();
</script>
</body>
</html>
